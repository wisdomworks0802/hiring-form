<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>入社情報ヒアリングシート</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  :root {
    --green-50: #f0faf4;
    --green-100: #d8f2e3;
    --green-200: #b0e4c7;
    --green-300: #7dd3a8;
    --green-400: #4abb85;
    --green-500: #2d9d6a;
    --green-600: #1f7f54;
    --green-700: #1a6645;
    --green-800: #175138;
    --green-900: #0f3526;
    --gray-50: #f8faf9;
    --gray-100: #f0f3f1;
    --gray-200: #e2e7e4;
    --gray-300: #c5cec8;
    --gray-400: #95a39b;
    --gray-500: #6b7d73;
    --gray-600: #4a5a52;
    --gray-700: #374740;
    --gray-800: #252f2a;
    --gray-900: #161d19;
    --white: #ffffff;
    --shadow-sm: 0 1px 2px rgba(15,53,38,0.06);
    --shadow-md: 0 4px 12px rgba(15,53,38,0.08);
    --shadow-lg: 0 8px 30px rgba(15,53,38,0.10);
    --radius: 10px;
    --radius-lg: 16px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Noto Sans JP', 'Zen Kaku Gothic New', sans-serif;
    background: var(--green-50);
    color: var(--gray-800);
    line-height: 1.7;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
  }

  /* ── Header ── */
  .site-header {
    background: linear-gradient(135deg, var(--green-700) 0%, var(--green-600) 50%, var(--green-500) 100%);
    padding: 40px 24px 48px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .site-header::before {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.04'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    opacity: 0.5;
  }
  .header-content { position: relative; z-index: 1; max-width: 640px; margin: 0 auto; }
  .header-logo {
    display: inline-flex; align-items: center; gap: 10px;
    margin-bottom: 16px;
  }
  .header-logo-icon {
    width: 40px; height: 40px; background: rgba(255,255,255,0.2);
    border-radius: 10px; display: flex; align-items: center; justify-content: center;
  }
  .header-logo-icon svg { width: 24px; height: 24px; }
  .header-logo-text {
    font-size: 14px; font-weight: 500; color: rgba(255,255,255,0.85);
    letter-spacing: 0.08em;
  }
  .site-header h1 {
    font-size: 24px; font-weight: 700; color: var(--white);
    letter-spacing: 0.04em; margin-bottom: 10px;
    font-family: 'Zen Kaku Gothic New', sans-serif;
  }
  .site-header p {
    font-size: 14px; color: rgba(255,255,255,0.8); font-weight: 300;
    max-width: 480px; margin: 0 auto;
  }

  /* ── Progress bar ── */
  .progress-wrap {
    background: var(--white); border-bottom: 1px solid var(--gray-200);
    padding: 16px 24px; position: sticky; top: 0; z-index: 100;
    box-shadow: var(--shadow-sm);
  }
  .progress-inner { max-width: 640px; margin: 0 auto; }
  .progress-label {
    display: flex; justify-content: space-between; align-items: center;
    font-size: 12px; color: var(--gray-500); margin-bottom: 8px; font-weight: 500;
  }
  .progress-bar {
    width: 100%; height: 4px; background: var(--gray-200);
    border-radius: 4px; overflow: hidden;
  }
  .progress-fill {
    height: 100%; background: linear-gradient(90deg, var(--green-400), var(--green-500));
    border-radius: 4px; transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    width: 0%;
  }

  /* ── Main ── */
  .main-container {
    max-width: 640px; margin: 0 auto;
    padding: 32px 24px 80px;
  }

  /* ── Section ── */
  .form-section {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 32px 28px;
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--gray-200);
    transition: box-shadow 0.3s;
    display: none;
  }
  .form-section.active { display: block; animation: fadeUp 0.4s ease; }
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .section-number {
    display: inline-flex; align-items: center; justify-content: center;
    width: 28px; height: 28px; border-radius: 8px;
    background: var(--green-100); color: var(--green-700);
    font-size: 13px; font-weight: 700; margin-bottom: 8px;
  }
  .section-title {
    font-size: 18px; font-weight: 700; color: var(--gray-800);
    margin-bottom: 4px; font-family: 'Zen Kaku Gothic New', sans-serif;
  }
  .section-desc {
    font-size: 13px; color: var(--gray-400); margin-bottom: 24px;
  }

  /* ── Fields ── */
  .field-group { margin-bottom: 20px; }
  .field-row {
    display: grid; grid-template-columns: 1fr 1fr; gap: 16px;
  }
  @media (max-width: 500px) {
    .field-row { grid-template-columns: 1fr; }
  }
  .field-label {
    display: block; font-size: 13px; font-weight: 600;
    color: var(--gray-700); margin-bottom: 6px;
  }
  .field-label .req {
    display: inline-block; font-size: 10px; font-weight: 700;
    color: var(--white); background: var(--green-500);
    padding: 1px 6px; border-radius: 4px; margin-left: 6px;
    vertical-align: middle; letter-spacing: 0.05em;
  }
  .field-label .opt {
    display: inline-block; font-size: 10px; font-weight: 500;
    color: var(--gray-400); border: 1px solid var(--gray-200);
    padding: 1px 6px; border-radius: 4px; margin-left: 6px;
    vertical-align: middle;
  }
  .field-hint {
    font-size: 12px; color: var(--gray-400); margin-bottom: 6px;
  }

  input[type="text"],
  input[type="number"],
  input[type="date"],
  textarea,
  select {
    width: 100%; padding: 10px 14px;
    border: 1.5px solid var(--gray-200); border-radius: var(--radius);
    font-size: 14px; font-family: inherit; color: var(--gray-800);
    background: var(--white); transition: all 0.2s;
    outline: none;
  }
  input:focus, textarea:focus, select:focus {
    border-color: var(--green-400);
    box-shadow: 0 0 0 3px rgba(77,187,133,0.15);
  }
  input::placeholder, textarea::placeholder {
    color: var(--gray-300); font-weight: 300;
  }
  textarea { resize: vertical; min-height: 80px; }
  select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236b7d73' viewBox='0 0 16 16'%3E%3Cpath d='M4.5 5.5L8 9l3.5-3.5'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 36px;
    cursor: pointer;
  }

  /* ── Conditional note ── */
  .cond-note {
    background: var(--green-50); border-left: 3px solid var(--green-300);
    padding: 10px 14px; border-radius: 0 8px 8px 0;
    font-size: 12px; color: var(--green-700); margin-bottom: 20px;
  }

  /* ── Conditional fields ── */
  .conditional { display: none; }
  .conditional.show { display: block; animation: fadeUp 0.3s ease; }

  /* ── Navigation ── */
  .nav-buttons {
    display: flex; justify-content: space-between; gap: 12px;
    margin-top: 28px; padding-top: 24px;
    border-top: 1px solid var(--gray-100);
  }
  .btn {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 11px 28px; border-radius: var(--radius);
    font-size: 14px; font-weight: 600; font-family: inherit;
    cursor: pointer; border: none; transition: all 0.2s;
  }
  .btn-primary {
    background: linear-gradient(135deg, var(--green-500), var(--green-600));
    color: var(--white); box-shadow: 0 2px 8px rgba(45,157,106,0.3);
  }
  .btn-primary:hover {
    box-shadow: 0 4px 16px rgba(45,157,106,0.4); transform: translateY(-1px);
  }
  .btn-secondary {
    background: var(--white); color: var(--gray-600);
    border: 1.5px solid var(--gray-200);
  }
  .btn-secondary:hover { background: var(--gray-50); }
  .btn-submit {
    background: linear-gradient(135deg, var(--green-600), var(--green-700));
    color: var(--white); box-shadow: 0 2px 8px rgba(31,127,84,0.3);
    width: 100%; justify-content: center; padding: 14px;
    font-size: 15px; letter-spacing: 0.04em;
  }
  .btn-submit:hover {
    box-shadow: 0 4px 16px rgba(31,127,84,0.4); transform: translateY(-1px);
  }
  .btn:disabled {
    opacity: 0.5; cursor: not-allowed; transform: none !important;
    box-shadow: none !important;
  }
  .btn svg { width: 16px; height: 16px; }

  /* ── Complete screen ── */
  .complete-screen {
    display: none; text-align: center; padding: 60px 24px;
    animation: fadeUp 0.5s ease;
  }
  .complete-screen.show { display: block; }
  .complete-icon {
    width: 72px; height: 72px; margin: 0 auto 20px;
    background: var(--green-100); border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
  }
  .complete-icon svg { width: 36px; height: 36px; color: var(--green-600); }
  .complete-screen h2 {
    font-size: 22px; font-weight: 700; color: var(--gray-800);
    margin-bottom: 12px; font-family: 'Zen Kaku Gothic New', sans-serif;
  }
  .complete-screen p { font-size: 14px; color: var(--gray-500); line-height: 1.8; }

  /* ── Validation ── */
  .field-error input, .field-error select, .field-error textarea {
    border-color: #e05252;
  }
  .error-msg {
    font-size: 12px; color: #e05252; margin-top: 4px; display: none;
  }
  .field-error .error-msg { display: block; }

  /* ── Loading overlay ── */
  .loading-overlay {
    display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(255,255,255,0.85); z-index: 9999;
    align-items: center; justify-content: center; flex-direction: column; gap: 16px;
  }
  .loading-overlay.show { display: flex; }
  .spinner {
    width: 40px; height: 40px; border: 3px solid var(--gray-200);
    border-top-color: var(--green-500); border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }
  .loading-overlay p { font-size: 14px; color: var(--gray-500); }

  /* ── Footer ── */
  .site-footer {
    text-align: center; padding: 24px;
    font-size: 12px; color: var(--gray-400);
  }
</style>
</head>
<body>

<!-- Header -->
<header class="site-header">
  <div class="header-content">
    <div class="header-logo">
      <div class="header-logo-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
          <path d="M9 12h6m-3-3v6m-7 4h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
        </svg>
      </div>
      <span class="header-logo-text">○○社労士事務所</span>
    </div>
    <h1>入社情報ヒアリングシート</h1>
    <p>新しく入社される方の雇用契約書を作成するためのヒアリングシートです。必須項目をご入力の上、送信してください。</p>
  </div>
</header>

<!-- Progress -->
<div class="progress-wrap">
  <div class="progress-inner">
    <div class="progress-label">
      <span id="progressText">1 / 10</span>
      <span id="progressPct">10%</span>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
  </div>
</div>

<!-- Main -->
<div class="main-container">

  <!-- ===== Section 1: 従業員情報 ===== -->
  <div class="form-section active" data-section="1">
    <div class="section-number">1</div>
    <div class="section-title">従業員情報</div>
    <div class="section-desc">入社される方の氏名をご入力ください。</div>
    <div class="field-row">
      <div class="field-group">
        <label class="field-label">従業員氏名<span class="req">必須</span></label>
        <input type="text" name="employee_name" placeholder="山田 太郎" required>
        <div class="error-msg">氏名を入力してください</div>
      </div>
      <div class="field-group">
        <label class="field-label">フリガナ<span class="req">必須</span></label>
        <input type="text" name="employee_kana" placeholder="ヤマダ タロウ" required>
        <div class="error-msg">フリガナを入力してください</div>
      </div>
    </div>
    <div class="nav-buttons" style="justify-content:flex-end;">
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 2: 雇用形態・契約期間 ===== -->
  <div class="form-section" data-section="2">
    <div class="section-number">2</div>
    <div class="section-title">雇用形態・契約期間</div>
    <div class="section-desc">雇用形態と契約期間をご入力ください。</div>

    <div class="field-group">
      <label class="field-label">雇用形態<span class="req">必須</span></label>
      <select name="employment_type" required>
        <option value="">選択してください</option>
        <option>正社員</option><option>パートタイマー</option>
        <option>アルバイト</option><option>契約社員</option><option>嘱託社員</option>
      </select>
      <div class="error-msg">雇用形態を選択してください</div>
    </div>

    <div class="field-group">
      <label class="field-label">契約期間の定め<span class="req">必須</span></label>
      <select name="contract_term" required onchange="toggleConditional('contract-term-fields', this.value === '期間の定めあり')">
        <option value="">選択してください</option>
        <option>期間の定めなし</option><option>期間の定めあり</option>
      </select>
      <div class="error-msg">契約期間の定めを選択してください</div>
    </div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">契約開始日<span class="req">必須</span></label>
        <input type="date" name="contract_start" required>
        <div class="error-msg">契約開始日を入力してください</div>
      </div>
      <div class="field-group conditional" id="contract-end-wrap">
        <label class="field-label">契約終了日<span class="opt">任意</span></label>
        <input type="date" name="contract_end">
      </div>
    </div>

    <!-- 有期雇用の場合のみ -->
    <div class="conditional" id="contract-term-fields">
      <div class="cond-note">以下は「期間の定めあり」の場合のみご入力ください。</div>

      <div class="field-row">
        <div class="field-group">
          <label class="field-label">契約更新の有無</label>
          <select name="renewal_type">
            <option value="">選択してください</option>
            <option>更新可能性あり</option><option>契約更新はしない</option>
          </select>
        </div>
        <div class="field-group">
          <label class="field-label">更新上限の有無</label>
          <select name="renewal_limit" onchange="toggleConditional('renewal-limit-fields', this.value === '上限あり')">
            <option value="">選択してください</option>
            <option>上限なし</option><option>上限あり</option>
          </select>
        </div>
      </div>

      <div class="conditional" id="renewal-limit-fields">
        <div class="field-row">
          <div class="field-group">
            <label class="field-label">更新回数の上限</label>
            <input type="text" name="renewal_max_count" placeholder="3 回">
          </div>
          <div class="field-group">
            <label class="field-label">通算契約期間の上限</label>
            <input type="text" name="renewal_max_period" placeholder="5 年">
          </div>
        </div>
      </div>

      <div class="field-group">
        <label class="field-label">無期転換時の条件変更</label>
        <select name="indefinite_conversion">
          <option value="">選択してください</option>
          <option>無し</option><option>有り（詳細は別紙）</option>
        </select>
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 3: 就業場所・業務内容 ===== -->
  <div class="form-section" data-section="3">
    <div class="section-number">3</div>
    <div class="section-title">就業場所・業務内容</div>
    <div class="section-desc">就業場所と業務内容をご入力ください。</div>

    <div class="field-group">
      <label class="field-label">就業場所【雇入れ直後】<span class="req">必須</span></label>
      <input type="text" name="work_location_initial" placeholder="本社、会社のお客様先" required>
      <div class="error-msg">就業場所を入力してください</div>
    </div>
    <div class="field-group">
      <label class="field-label">就業場所【変更の範囲】<span class="opt">任意</span></label>
      <input type="text" name="work_location_range" placeholder="会社の定めるすべての場所">
    </div>
    <div class="field-group">
      <label class="field-label">業務内容【雇入れ直後】<span class="req">必須</span></label>
      <textarea name="job_description_initial" placeholder="営業に関する業務、その他関連業務" required></textarea>
      <div class="error-msg">業務内容を入力してください</div>
    </div>
    <div class="field-group">
      <label class="field-label">業務内容【変更の範囲】<span class="opt">任意</span></label>
      <textarea name="job_description_range" placeholder="会社の定めるすべての業務"></textarea>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 4: 始業・終業・休憩 ===== -->
  <div class="form-section" data-section="4">
    <div class="section-number">4</div>
    <div class="section-title">始業・終業・休憩</div>
    <div class="section-desc">勤務時間と休憩についてご入力ください。</div>

    <div class="field-group">
      <label class="field-label">勤務時間のパターン<span class="req">必須</span></label>
      <select name="work_pattern" required onchange="toggleConditional('shift-pattern-wrap', this.value === 'シフト制')">
        <option value="">選択してください</option>
        <option>固定時間制</option><option>シフト制</option><option>その他</option>
      </select>
      <div class="error-msg">勤務時間のパターンを選択してください</div>
    </div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">始業時刻<span class="req">必須</span></label>
        <input type="text" name="start_time" placeholder="9:00" required>
        <div class="error-msg">始業時刻を入力してください</div>
      </div>
      <div class="field-group">
        <label class="field-label">終業時刻<span class="req">必須</span></label>
        <input type="text" name="end_time" placeholder="18:00" required>
        <div class="error-msg">終業時刻を入力してください</div>
      </div>
    </div>
    <div class="field-row">
      <div class="field-group">
        <label class="field-label">休憩時間（分）<span class="req">必須</span></label>
        <input type="text" name="break_minutes" placeholder="60" required>
        <div class="error-msg">休憩時間を入力してください</div>
      </div>
      <div class="field-group">
        <label class="field-label">1日の所定労働時間<span class="opt">任意</span></label>
        <input type="text" name="daily_hours" placeholder="8時間">
      </div>
    </div>

    <div class="conditional" id="shift-pattern-wrap">
      <div class="cond-note">シフト制の場合は、パターンをご入力ください。</div>
      <div class="field-group">
        <label class="field-label">シフトパターン</label>
        <textarea name="shift_pattern" placeholder="① 9:00～18:00　② 13:00～22:00"></textarea>
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 5: 休日 ===== -->
  <div class="form-section" data-section="5">
    <div class="section-number">5</div>
    <div class="section-title">休日</div>
    <div class="section-desc">休日についてご入力ください。</div>

    <div class="field-group">
      <label class="field-label">休日のパターン<span class="req">必須</span></label>
      <select name="holiday_pattern" required>
        <option value="">選択してください</option>
        <option>土日祝＋会社指定日</option><option>週休○日（曜日指定あり）</option>
        <option>シフトによる</option><option>その他</option>
      </select>
      <div class="error-msg">休日のパターンを選択してください</div>
    </div>
    <div class="field-row">
      <div class="field-group">
        <label class="field-label">週休日数<span class="opt">任意</span></label>
        <input type="text" name="weekly_holidays" placeholder="2">
      </div>
      <div class="field-group">
        <label class="field-label">固定の休日曜日<span class="opt">任意</span></label>
        <input type="text" name="fixed_holidays" placeholder="土・日">
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 6: 賃金 ===== -->
  <div class="form-section" data-section="6">
    <div class="section-number">6</div>
    <div class="section-title">賃金</div>
    <div class="section-desc">基本給と手当についてご入力ください。</div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">基本給の種類<span class="req">必須</span></label>
        <select name="salary_type" required>
          <option value="">選択してください</option>
          <option>月給</option><option>時給</option><option>日給</option>
        </select>
        <div class="error-msg">基本給の種類を選択してください</div>
      </div>
      <div class="field-group">
        <label class="field-label">基本給の金額（円）<span class="req">必須</span></label>
        <input type="text" name="salary_amount" placeholder="250000" required>
        <div class="error-msg">基本給の金額を入力してください</div>
      </div>
    </div>

    <div class="field-group">
      <label class="field-label">基本給以外の諸手当</label>
      <select name="has_allowances" onchange="toggleConditional('allowance-details', this.value === '有り')">
        <option value="">選択してください</option>
        <option>有り</option><option>無し</option>
      </select>
    </div>

    <div class="conditional" id="allowance-details">
      <div class="cond-note">諸手当の詳細をご入力ください。</div>

      <div class="field-row">
        <div class="field-group">
          <label class="field-label">定額残業手当（円）</label>
          <input type="text" name="overtime_allowance" placeholder="40000">
        </div>
        <div class="field-group">
          <label class="field-label">含まれる時間外労働</label>
          <input type="text" name="overtime_hours" placeholder="20 時間">
        </div>
      </div>

      <div class="field-row">
        <div class="field-group">
          <label class="field-label">その他手当① 名称</label>
          <input type="text" name="allowance1_name" placeholder="役職手当">
        </div>
        <div class="field-group">
          <label class="field-label">手当① 金額（円）</label>
          <input type="text" name="allowance1_amount" placeholder="30000">
        </div>
      </div>
      <div class="field-group">
        <label class="field-label">手当①の単位</label>
        <select name="allowance1_unit">
          <option value="">選択してください</option>
          <option>1ヶ月あたり</option><option>1時間あたり</option><option>1日あたり</option>
        </select>
      </div>

      <div class="field-row">
        <div class="field-group">
          <label class="field-label">その他手当② 名称</label>
          <input type="text" name="allowance2_name">
        </div>
        <div class="field-group">
          <label class="field-label">手当② 金額（円）</label>
          <input type="text" name="allowance2_amount">
        </div>
      </div>
      <div class="field-group">
        <label class="field-label">手当②の単位</label>
        <select name="allowance2_unit">
          <option value="">選択してください</option>
          <option>1ヶ月あたり</option><option>1時間あたり</option><option>1日あたり</option>
        </select>
      </div>

      <div class="field-row">
        <div class="field-group">
          <label class="field-label">その他手当③ 名称</label>
          <input type="text" name="allowance3_name">
        </div>
        <div class="field-group">
          <label class="field-label">手当③ 金額（円）</label>
          <input type="text" name="allowance3_amount">
        </div>
      </div>
      <div class="field-group">
        <label class="field-label">手当③の単位</label>
        <select name="allowance3_unit">
          <option value="">選択してください</option>
          <option>1ヶ月あたり</option><option>1時間あたり</option><option>1日あたり</option>
        </select>
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 7: 通勤手当 ===== -->
  <div class="form-section" data-section="7">
    <div class="section-number">7</div>
    <div class="section-title">通勤手当</div>
    <div class="section-desc">通勤手当についてご入力ください。</div>

    <div class="field-group">
      <label class="field-label">通勤手当</label>
      <select name="commute_allowance" onchange="toggleConditional('commute-details', this.value === '有り')">
        <option value="">選択してください</option>
        <option>有り</option><option>無し</option>
      </select>
    </div>
    <div class="conditional" id="commute-details">
      <div class="field-row">
        <div class="field-group">
          <label class="field-label">通勤手当の金額（円）</label>
          <input type="text" name="commute_amount" placeholder="15000">
        </div>
        <div class="field-group">
          <label class="field-label">単位</label>
          <select name="commute_unit">
            <option value="">選択してください</option>
            <option>1ヶ月あたり</option><option>1日あたり</option>
          </select>
        </div>
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 8: 賃金締日・支払日・改定・賞与・退職金 ===== -->
  <div class="form-section" data-section="8">
    <div class="section-number">8</div>
    <div class="section-title">賃金締日・支払日・改定・賞与・退職金</div>
    <div class="section-desc">賃金の支払い条件についてご入力ください。</div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">賃金の締日<span class="req">必須</span></label>
        <input type="text" name="pay_cutoff" placeholder="毎月末日" required>
        <div class="error-msg">賃金の締日を入力してください</div>
      </div>
      <div class="field-group">
        <label class="field-label">賃金の支払日<span class="req">必須</span></label>
        <input type="text" name="pay_date" placeholder="翌月25日" required>
        <div class="error-msg">賃金の支払日を入力してください</div>
      </div>
    </div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">賃金改定</label>
        <select name="salary_revision">
          <option value="">選択してください</option>
          <option>査定の上改定あり</option><option>改定は行わない</option>
        </select>
      </div>
      <div class="field-group">
        <label class="field-label">改定の時期</label>
        <select name="revision_timing">
          <option value="">選択してください</option>
          <option>毎年</option><option>不定期</option>
        </select>
      </div>
    </div>
    <div class="field-group">
      <label class="field-label">改定月（毎年の場合）<span class="opt">任意</span></label>
      <input type="text" name="revision_month" placeholder="4">
    </div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">賞与</label>
        <select name="bonus">
          <option value="">選択してください</option>
          <option>支給予定あり</option><option>支給しない</option>
        </select>
      </div>
      <div class="field-group">
        <label class="field-label">賞与の支給月<span class="opt">任意</span></label>
        <input type="text" name="bonus_months" placeholder="6月・12月">
      </div>
    </div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">退職金</label>
        <select name="severance">
          <option value="">選択してください</option>
          <option>制度の適用あり</option><option>支給しない</option>
        </select>
      </div>
      <div class="field-group">
        <label class="field-label">退職金の支給条件<span class="opt">任意</span></label>
        <input type="text" name="severance_condition" placeholder="勤続3年以上">
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 9: 退職に関する事項 & 試用期間 ===== -->
  <div class="form-section" data-section="9">
    <div class="section-number">9</div>
    <div class="section-title">退職に関する事項・試用期間</div>
    <div class="section-desc">定年と試用期間についてご入力ください。</div>

    <div class="field-row">
      <div class="field-group">
        <label class="field-label">定年（歳）<span class="opt">任意</span></label>
        <input type="text" name="retirement_age" placeholder="65">
      </div>
      <div class="field-group">
        <label class="field-label">定年後の再雇用制度</label>
        <select name="reemployment">
          <option value="">選択してください</option>
          <option>有り</option><option>無し</option>
        </select>
      </div>
    </div>

    <div style="border-top:1px solid var(--gray-100); margin:24px 0; padding-top:24px;">
      <div class="section-title" style="font-size:16px; margin-bottom:16px;">試用期間</div>
      <div class="field-row">
        <div class="field-group">
          <label class="field-label">試用期間の開始日<span class="opt">任意</span></label>
          <input type="date" name="probation_start">
        </div>
        <div class="field-group">
          <label class="field-label">試用期間の終了日<span class="opt">任意</span></label>
          <input type="date" name="probation_end">
        </div>
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn btn-secondary" onclick="prevSection()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 戻る</button>
      <button class="btn btn-primary" onclick="nextSection()">次へ <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
    </div>
  </div>

  <!-- ===== Section 10: その他特記事項 & 送信 ===== -->
  <div class="form-section" data-section="10">
    <div class="section-number">10</div>
    <div class="section-title">その他特記事項</div>
    <div class="section-desc">雇用契約書に記載したい事項があればご入力ください。</div>

    <div class="field-group">
      <label class="field-label">特記事項<span class="opt">任意</span></label>
      <textarea name="notes" placeholder="その他ご連絡事項があればご記入ください。" rows="5"></textarea>
    </div>

    <div class="nav-buttons" style="flex-direction:column; gap:12px;">
      <button class="btn btn-submit" onclick="submitForm()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12l5 5L20 7"/></svg>
        入力内容を送信する
      </button>
      <button class="btn btn-secondary" onclick="prevSection()" style="width:100%; justify-content:center;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg> 前のページに戻る
      </button>
    </div>
  </div>

  <!-- ===== Complete ===== -->
  <div class="complete-screen" id="completeScreen">
    <div class="complete-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <path d="M5 13l4 4L19 7"/>
      </svg>
    </div>
    <h2>送信が完了しました</h2>
    <p>ご入力いただきありがとうございます。<br>
    内容を確認の上、雇用契約書を作成いたします。<br>
    ご不明な点がございましたらお気軽にお問い合わせください。</p>
  </div>

</div>

<!-- Loading -->
<div class="loading-overlay" id="loadingOverlay">
  <div class="spinner"></div>
  <p>送信しています…</p>
</div>

<!-- Footer -->
<footer class="site-footer">
  © ○○社労士事務所
</footer>

<script>
  // ── State ──
  let currentSection = 1;
  const totalSections = 10;

  // ── Section navigation ──
  function showSection(n) {
    document.querySelectorAll('.form-section').forEach(s => s.classList.remove('active'));
    const target = document.querySelector(`[data-section="${n}"]`);
    if (target) {
      target.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    updateProgress();
  }

  function nextSection() {
    if (!validateCurrentSection()) return;
    if (currentSection < totalSections) {
      currentSection++;
      showSection(currentSection);
    }
  }

  function prevSection() {
    if (currentSection > 1) {
      currentSection--;
      showSection(currentSection);
    }
  }

  function updateProgress() {
    const pct = Math.round((currentSection / totalSections) * 100);
    document.getElementById('progressFill').style.width = pct + '%';
    document.getElementById('progressText').textContent = currentSection + ' / ' + totalSections;
    document.getElementById('progressPct').textContent = pct + '%';
  }

  // ── Conditional fields ──
  function toggleConditional(id, show) {
    const el = document.getElementById(id);
    if (!el) return;
    if (show) {
      el.classList.add('show');
    } else {
      el.classList.remove('show');
      // 非表示時に中の入力値をクリア
      el.querySelectorAll('input, select, textarea').forEach(f => {
        if (f.type === 'checkbox' || f.type === 'radio') f.checked = false;
        else f.value = '';
      });
    }
    // 契約終了日の表示
    if (id === 'contract-term-fields') {
      const endWrap = document.getElementById('contract-end-wrap');
      if (endWrap) { show ? endWrap.classList.add('show') : endWrap.classList.remove('show'); }
    }
  }

  // ── Validation ──
  function validateCurrentSection() {
    const section = document.querySelector(`[data-section="${currentSection}"]`);
    const requiredFields = section.querySelectorAll('[required]');
    let valid = true;
    requiredFields.forEach(f => {
      const group = f.closest('.field-group');
      if (!f.value.trim()) {
        group.classList.add('field-error');
        valid = false;
      } else {
        group.classList.remove('field-error');
      }
    });
    if (!valid) {
      const firstErr = section.querySelector('.field-error');
      if (firstErr) firstErr.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    return valid;
  }

  // ── Clear error on input ──
  document.addEventListener('input', e => {
    const group = e.target.closest('.field-group');
    if (group) group.classList.remove('field-error');
  });
  document.addEventListener('change', e => {
    const group = e.target.closest('.field-group');
    if (group) group.classList.remove('field-error');
  });

  // ── Collect all data ──
  function collectFormData() {
    const data = {};
    document.querySelectorAll('input, select, textarea').forEach(f => {
      if (f.name) data[f.name] = f.value;
    });
    return data;
  }

  // ── Submit ──
  function submitForm() {
    if (!validateCurrentSection()) return;

    const data = collectFormData();
    const overlay = document.getElementById('loadingOverlay');
    overlay.classList.add('show');

    // ★ 下記URLをGASのWebアプリURLに差し替えてください
    const GAS_URL = 'https://script.google.com/a/macros/wisdomworks.jp/s/AKfycbzpynF7_8Re8U8vM1F3AV3moE4nqfN9YRg_HxBrlAsUJkzCvrh2_awT8fTSrYd1cYBT/exec';

    if (GAS_URL === 'YOUR_GAS_WEB_APP_URL_HERE') {
      // デモモード：GAS未設定時はそのまま完了画面を表示
      setTimeout(() => {
        overlay.classList.remove('show');
        showComplete();
        console.log('送信データ:', data);
      }, 1500);
      return;
    }

    fetch(GAS_URL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    })
    .then(() => {
      overlay.classList.remove('show');
      showComplete();
    })
    .catch(err => {
      overlay.classList.remove('show');
      alert('送信中にエラーが発生しました。もう一度お試しください。');
      console.error(err);
    });
  }

  function showComplete() {
    document.querySelectorAll('.form-section').forEach(s => s.classList.remove('active'));
    document.getElementById('completeScreen').classList.add('show');
    document.querySelector('.progress-wrap').style.display = 'none';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // ── Init ──
  updateProgress();
</script>
</body>
</html>
